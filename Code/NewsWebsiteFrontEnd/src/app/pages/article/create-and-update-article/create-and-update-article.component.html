<header class="header">
    <h1 class="pageTitle">
        <i>
            <i class="fa-solid fa-house-flood-water"></i>
            <b>
                {{ articleId ? 'Update' : 'Create'}} Article
            </b>
        </i>
    </h1>
</header>

<div class="article-form">
    <div class="form-row">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" [(ngModel)]="article.title">
        </div>
        <div class="form-group">
            <label for="location">Location</label>
            <input type="text" id="location" [(ngModel)]="article.location">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label for="tags">Tags</label>
            <ng-multiselect-dropdown [placeholder]="'Select tags'" [settings]="dropdownSettingsTags" [data]="tags"
                [(ngModel)]="article.tags" (onSelect)="onItemSelect($event)" (onSelectAll)="onSelectAll($event)">
            </ng-multiselect-dropdown>
        </div>
        <div class="form-group">
            <label for="categoryId">Category</label>
            <select id="categoryId" [(ngModel)]="article.categoryId">
                <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
            </select>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label for="summary">Summary</label>
            <textarea id="summary" [(ngModel)]="article.summary" rows="6"></textarea>
        </div>
    </div>
    <div class="form-row">
        <div class="form-group">
            <label for="coverImage">Cover Image</label>
            <input type="file" id="coverImage" (change)="onImageSelected($event)">
        </div>
        <div class="form-group">
            <img [src]="imagePreview" *ngIf="imagePreview" class="image-preview">
        </div>
    </div>
</div>

<div class="article-form">
    <div class="row">
        <angular-editor #editor id="angular-editor" [(ngModel)]="htmlContent" [config]="config"></angular-editor>
    </div>
    <div class="d-flex justify-content-between mt-3">
        <button class="btn btn-primary" (click)="saveArticle()">Save</button>
        <button class="btn btn-warning" (click)="cancelAndBack()">Cancel & Back</button>
    </div>
</div>


<!-- <div [innerHTML]="getSafeHtmlContent(htmlContent)"></div> -->